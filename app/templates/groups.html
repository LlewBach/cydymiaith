{% extends 'base.html' %}

{% block content %}
<h1>Groups</h1>

<a href="{{ url_for('groups.add_group') }}" class="btn btn-outline-primary btn-lg ask-button">Add Group</a>

{% for group in groups %}

<div class="card">
  <div class="card-body">
    <p>Tutor: {{ group.tutor }}</p>
    <p>Provider: {{ group.provider}}</p>
    <p>Level: {{ group.level}}</p>
    <p>Year: {{ group.year }}</p>
    <p>Weekday: {{ group.weekday }}</p>
    <!-- <p>Students: {{ group.students }}</p> -->

    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#{{ group._id }}"
            aria-expanded="true" aria-controls="collapseOne">
            Student List
          </button>
        </h2>
        <div id="{{ group._id }}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            {% for student in group.students %}
            <div class="d-flex justify-content-between">
              <p>{{ student }}</p>
              <a href="#" data-bs-toggle="modal" data-bs-target="#{{ student }}">Remove</a>

              <!-- Modal -->
              <div class="modal fade" id="{{ student }}" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="modalLabel">Are you sure?</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <p>Changes cannot be undone!</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                      <a href="" class="btn btn-primary">Confirm</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endfor %}

{% endblock %}